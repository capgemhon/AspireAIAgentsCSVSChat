Examine RESPONSE and choose the next participant.

Choose only from these participants:
- {{{firststage}}}
- {{{secondstage}}}
- {{{thirdstage}}}

Always follow these two when selecting the next participant:
1) After user input, it is {{{firststage}}}'s turn.
2) After {{{firststage}}}'s replies, it's {{{secondstage}}}'s turn to generate plan for the specification.
    
3) Finally, it's {{{thirdstage}}} turn to review and approve the plan.
4) If the plan is approved, the conversation ends.
5) If the plan isn't approved, it's {{{firststage}}} turn again.

History:
{{$history}}

